db.createCollection('Cliente', {validator: {$jsonSchema: {bsonType: 'object',title: 'Cliente',required: ['idCliente','Nombre','DatosCliente'],properties:{idCliente:{bsonType: 'objectId'},Nombre:{bsonType: 'string'},DatosCliente:{bsonType: 'object',title: 'object',required: ['nombre','direccion','numeroTelf','email'],properties:{nombre:{bsonType: 'string'},direccion:{bsonType: 'object',title: 'object',properties:{calle:{bsonType: 'string'},numero:{bsonType: 'int'},piso:{bsonType: 'int'},puerta:{bsonType: 'int'},codigoPostal:{bsonType: 'int'},ciudad:{bsonType: 'string'},pais:{bsonType: 'string'}}},numeroTelf:{bsonType: 'int'},email:{bsonType: 'string'},registerDate:{bsonType: 'date'}}},ultimaCompra:{bsonType: 'object',title: 'object',required: ['gafa','vendedor','fecha'],properties:{gafa:{bsonType: 'object',title: 'object',properties:{graduacion:{bsonType: 'object',title: 'object',properties:{derecho:{bsonType: 'decimal'},izquierdo:{bsonType: 'decimal'}}},colorCristal:{bsonType: 'object',title: 'object',properties:{derecho:{bsonType: 'string'},izquierdo:{bsonType: 'string'}}},montura:{bsonType: 'object',title: 'object',properties:{flotant:{bsonType: 'bool'},metalica:{bsonType: 'bool'},pasta:{bsonType: 'bool'}}},precio:{bsonType: 'double'}}},vendedor:{bsonType: 'string'},fecha:{bsonType: 'date'}}},clienteRecomendador:{bsonType: 'object',title: 'object',properties:{idClienteRecomendador:{bsonType: 'string'}}}}}}});